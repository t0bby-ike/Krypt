<!DOCTYPE html>
<html lang="en">
<head>
<!-- Leaflet CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />

<!-- In your body, add the map container -->
<div class="map-container" id="mapContainer"></div>

<!-- At the end of your body -->
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Tools Pro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css">
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --accent: #f72585;
            --light: #f8f9fa;
            --dark: #212529;
            --success: #4cc9f0;
            --warning: #f8961e;
            --danger: #ef233c;
            --gray: #adb5bd;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            color: var(--dark);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            background-color: white;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            animation: slideDown 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes slideDown {
            from {
                transform: translateY(-100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            position: relative;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            transition: transform 0.3s;
        }

        .logo:hover {
            transform: translateX(5px);
        }

        .logo i {
            color: var(--primary);
            font-size: 28px;
        }

        .logo h1 {
            font-size: 24px;
            font-weight: 700;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        /* Battery Indicator */
        .battery-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-right: 20px;
            font-size: 14px;
            color: var(--dark);
        }

        .battery-level {
            width: 40px;
            height: 20px;
            border: 2px solid var(--dark);
            border-radius: 4px;
            position: relative;
            overflow: hidden;
        }

        .battery-level::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            height: calc(100% - 4px);
            width: var(--battery-width, 50%);
            background-color: var(--battery-color, var(--success));
            border-radius: 2px;
            transition: width 0.5s, background-color 0.5s;
        }

        .battery-level::after {
            content: '';
            position: absolute;
            right: -5px;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 8px;
            background-color: var(--dark);
            border-radius: 0 2px 2px 0;
        }

        /* Hamburger Menu */
        .hamburger {
            display: none;
            cursor: pointer;
            padding: 10px;
            transition: transform 0.3s;
            z-index: 1002;
        }

        .hamburger:hover {
            transform: scale(1.1);
        }

        .hamburger i {
            font-size: 24px;
            color: var(--dark);
            transition: color 0.3s;
        }

        .hamburger:hover i {
            color: var(--primary);
        }

        /* Navigation */
        nav ul {
            display: flex;
            list-style: none;
            gap: 25px;
        }

        nav ul li a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: all 0.3s;
            position: relative;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        nav ul li a i {
            font-size: 18px;
        }

        nav ul li a:hover {
            color: var(--primary);
        }

        nav ul li a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            bottom: -5px;
            left: 0;
            transition: width 0.3s;
        }

        nav ul li a:hover::after {
            width: 100%;
        }

        /* Hero Section */
        .hero {
            padding: 180px 0 80px;
            text-align: center;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8eb 100%);
        }

        .hero h2 {
            font-size: 2.8rem;
            margin-bottom: 20px;
            color: var(--dark);
            animation: fadeIn 0.8s ease-out;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .hero p {
            font-size: 1.2rem;
            color: #6c757d;
            max-width: 700px;
            margin: 0 auto 40px;
            animation: fadeIn 0.8s ease-out 0.3s both;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Search Box */
        .search-box {
            max-width: 700px;
            margin: 0 auto;
            position: relative;
            animation: fadeIn 0.8s ease-out 0.6s both;
        }

        .search-box input {
            width: 100%;
            padding: 18px 25px;
            border: 2px solid #dee2e6;
            border-radius: 50px;
            font-size: 1.1rem;
            outline: none;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            background-color: white;
        }

        .search-box input:focus {
            border-color: var(--primary);
            box-shadow: 0 5px 25px rgba(67, 97, 238, 0.2);
        }

        .search-box button {
            position: absolute;
            right: 6px;
            top: 6px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 50px;
            padding: 12px 30px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 3px 10px rgba(67, 97, 238, 0.3);
        }

        .search-box button:hover {
            transform: translateX(3px);
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.4);
        }

        /* Results Section */
        .results {
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 40px;
            margin-top: 50px;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            display: none;
            animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1);
            transform-origin: top center;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .results.active {
            display: block;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .result-item {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s;
        }

        .result-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .result-label {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--gray);
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .result-label i {
            font-size: 14px;
        }

        .result-value {
            font-size: 1.1rem;
            color: var(--dark);
            font-weight: 500;
            word-break: break-word;
        }

        .map-container {
            height: 350px;
            margin-top: 30px;
            border-radius: 12px;
            overflow: hidden;
            background-color: #e9ecef;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            animation: fadeIn 0.8s ease-out;
        }

        /* Tools Section */
        .tools-section {
            display: none;
            padding: 40px;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin: 50px auto;
            max-width: 900px;
            animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .tools-section.active {
            display: block;
        }

        .tool-title {
            font-size: 1.8rem;
            margin-bottom: 25px;
            color: var(--dark);
            text-align: center;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .tool-description {
            color: #6c757d;
            text-align: center;
            max-width: 700px;
            margin: 0 auto 30px;
        }

        .tool-input-container {
            position: relative;
            margin-bottom: 20px;
        }

        .tool-input {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }

        .tool-input:focus {
            border-color: var(--primary);
            box-shadow: 0 3px 15px rgba(67, 97, 238, 0.15);
        }

        .tool-button {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 8px;
            padding: 15px 30px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            width: 100%;
            margin-bottom: 25px;
            box-shadow: 0 4px 12px rgba(67, 97, 238, 0.25);
        }

        .tool-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(67, 97, 238, 0.3);
        }

        .tool-results {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            font-family: 'Fira Code', monospace, sans-serif;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #e9ecef;
            animation: fadeIn 0.5s ease-out;
        }

        /* Network Tools Grid */
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
            margin-top: 40px;
        }

        .tool-card {
            background-color: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s;
            cursor: pointer;
            text-align: center;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .tool-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            border-color: var(--primary);
        }

        .tool-card i {
            font-size: 2.5rem;
            margin-bottom: 15px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            transition: transform 0.3s;
        }

        .tool-card:hover i {
            transform: scale(1.1);
        }

        .tool-card h3 {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: var(--dark);
        }

        .tool-card p {
            color: #6c757d;
            font-size: 0.95rem;
        }

        /* Mobile Menu */
        .mobile-menu {
            position: fixed;
            top: 0;
            right: -320px;
            width: 320px;
            height: 100vh;
            background-color: white;
            box-shadow: -5px 0 25px rgba(0, 0, 0, 0.1);
            z-index: 1001;
            transition: right 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            padding: 25px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .mobile-menu.active {
            right: 0;
        }

        .mobile-menu-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e9ecef;
        }

        .mobile-menu-title {
            font-size: 1.5rem;
            font-weight: 600;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .close-menu {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--dark);
            transition: transform 0.3s;
        }

        .close-menu:hover {
            transform: rotate(90deg);
            color: var(--primary);
        }

        .mobile-nav ul {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .mobile-nav ul li a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px 15px;
            border-radius: 8px;
            transition: all 0.3s;
        }

        .mobile-nav ul li a i {
            font-size: 1.2rem;
            width: 25px;
            text-align: center;
        }

        .mobile-nav ul li a:hover {
            background-color: #f8f9fa;
            color: var(--primary);
            transform: translateX(5px);
        }

        .mobile-nav ul li a.active {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
        }

        .mobile-nav ul li a.active i {
            color: white;
        }

        .mobile-footer {
            margin-top: auto;
            padding-top: 20px;
            border-top: 1px solid #e9ecef;
            text-align: center;
            font-size: 0.9rem;
            color: #6c757d;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            display: none;
            backdrop-filter: blur(3px);
            transition: opacity 0.3s;
        }

        .overlay.active {
            display: block;
            animation: fadeIn 0.3s ease-out;
        }

        /* Loading Animation */
        .loader {
            display: none;
            text-align: center;
            margin: 30px 0;
        }

        .loader.active {
            display: block;
            animation: fadeIn 0.3s ease-out;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(67, 97, 238, 0.1);
            border-radius: 50%;
            border-top-color: var(--primary);
            margin: 0 auto;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .loader-text {
            margin-top: 15px;
            color: var(--dark);
            font-weight: 500;
        }

        /* Error Message */
        .error-message {
            color: var(--danger);
            text-align: center;
            margin: 20px 0;
            font-weight: 500;
            padding: 15px;
            background-color: rgba(239, 35, 60, 0.05);
            border-radius: 8px;
            border-left: 4px solid var(--danger);
            animation: fadeIn 0.3s ease-out;
        }

        /* Success Message */
        .success-message {
            color: var(--success);
            text-align: center;
            margin: 20px 0;
            font-weight: 500;
            padding: 15px;
            background-color: rgba(76, 201, 240, 0.05);
            border-radius: 8px;
            border-left: 4px solid var(--success);
            animation: fadeIn 0.3s ease-out;
        }

        /* Footer */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 60px 0 30px;
            text-align: center;
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .footer-logo i {
            font-size: 28px;
            color: var(--primary);
        }

        .footer-logo h2 {
            font-size: 24px;
            font-weight: 700;
            color: white;
        }

        .footer-description {
            color: #adb5bd;
            max-width: 600px;
            margin: 0 auto 30px;
            line-height: 1.7;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 25px;
            margin: 30px 0;
        }

        .footer-links a {
            color: white;
            text-decoration: none;
            transition: color 0.3s;
            font-weight: 500;
        }

        .footer-links a:hover {
            color: var(--primary);
        }

        .social-icons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
        }

        .social-icons a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1.2rem;
            transition: all 0.3s;
        }

        .social-icons a:hover {
            background-color: var(--primary);
            transform: translateY(-3px);
        }

        .copyright {
            color: #6c757d;
            font-size: 0.9rem;
            margin-top: 30px;
        }

        /* Responsive Styles */
        @media (max-width: 992px) {
            .header-container {
                padding: 15px 20px;
            }
            
            nav {
                display: none;
            }
            
            .hamburger {
                display: block;
            }
            
            .battery-indicator {
                margin-right: 10px;
            }
            
            .hero {
                padding: 150px 20px 60px;
            }
            
            .hero h2 {
                font-size: 2.2rem;
            }
            
            .results, .tools-section {
                padding: 30px;
            }
            
            .results-grid {
                grid-template-columns: 1fr 1fr;
            }
        }

        @media (max-width: 768px) {
            .hero h2 {
                font-size: 2rem;
            }
            
            .hero p {
                font-size: 1.1rem;
            }
            
            .search-box input {
                padding: 15px 20px;
            }
            
            .search-box button {
                padding: 10px 25px;
            }
            
            .results, .tools-section {
                padding: 25px;
            }
            
            .results-grid {
                grid-template-columns: 1fr;
            }
            
            .map-container {
                height: 300px;
            }
        }

        @media (max-width: 576px) {
            .logo h1 {
                font-size: 20px;
            }
            
            .battery-indicator {
                font-size: 12px;
            }
            
            .battery-level {
                width: 30px;
                height: 15px;
            }
            
            .hero {
                padding: 130px 15px 50px;
            }
            
            .hero h2 {
                font-size: 1.8rem;
            }
            
            .search-box input {
                padding: 14px 18px;
                font-size: 1rem;
            }
            
            .search-box button {
                padding: 9px 20px;
                font-size: 0.9rem;
            }
            
            .results, .tools-section {
                padding: 20px;
                margin-top: 30px;
            }
            
            .mobile-menu {
                width: 280px;
                padding: 20px;
            }
        }

        /* Animation Classes */
        .animate-bounce {
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        .animate-pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }

        .animate-rotate {
            animation: rotate 4s linear infinite;
        }

        @keyframes rotate {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }
    </style>
</head>
<body>
    <!-- Header with Hamburger Menu -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <i class="fas fa-network-wired"></i>
                <h1>Network Tools Pro</h1>
            </div>
            
            <div class="battery-indicator" id="batteryIndicator">
                <span id="batteryText">Battery: </span>
                <div class="battery-level" id="batteryLevel"></div>
                <span id="batteryPercent"></span>
            </div>
            
            <nav>
                <ul>
                    <li><a href="#" class="nav-link active" data-section="ip-lookup"><i class="fas fa-search-location"></i> IP Lookup</a></li>
                    <li><a href="#" class="nav-link" data-section="whois"><i class="fas fa-globe"></i> WHOIS</a></li>
                    <li><a href="#" class="nav-link" data-section="dns"><i class="fas fa-server"></i> DNS</a></li>
                    <li><a href="#" class="nav-link" data-section="ping"><i class="fas fa-network-wired"></i> Ping</a></li>
                    <li><a href="#" class="nav-link" data-section="traceroute"><i class="fas fa-route"></i> Traceroute</a></li>
                </ul>
            </nav>
            
            <div class="hamburger" id="hamburger">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </header>
    
    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-header">
            <div class="mobile-menu-title">Menu</div>
            <button class="close-menu" id="closeMenu">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <nav class="mobile-nav">
            <ul>
                <li><a href="#" class="mobile-nav-link active" data-section="ip-lookup"><i class="fas fa-search-location"></i> IP Lookup</a></li>
                <li><a href="#" class="mobile-nav-link" data-section="whois"><i class="fas fa-globe"></i> WHOIS Lookup</a></li>
                <li><a href="#" class="mobile-nav-link" data-section="dns"><i class="fas fa-server"></i> DNS Lookup</a></li>
                <li><a href="#" class="mobile-nav-link" data-section="ping"><i class="fas fa-network-wired"></i> Ping Test</a></li>
                <li><a href="#" class="mobile-nav-link" data-section="traceroute"><i class="fas fa-route"></i> Traceroute</a></li>
                <li><a href="#" class="mobile-nav-link" data-section="blacklist"><i class="fas fa-shield-alt"></i> Blacklist Check</a></li>
                <li><a href="#" class="mobile-nav-link" data-section="subnet"><i class="fas fa-calculator"></i> Subnet Calc</a></li>
                <li><a href="#" class="mobile-nav-link" data-section="speedtest"><i class="fas fa-tachometer-alt"></i> Speed Test</a></li>
                <li><a href="#" class="mobile-nav-link" data-section="portscan"><i class="fas fa-door-open"></i> Port Scanner</a></li>
            </ul>
        </nav>
        
        <div class="mobile-footer">
            <p>Network Tools Pro v1.0</p>
            <p>© 2023 All rights reserved</p>
        </div>
    </div>
    
    <div class="overlay" id="overlay"></div>
    
    <!-- Main Content -->
    <main class="container">
        <!-- IP Lookup Section (Default) -->
        <section class="hero" id="ip-lookup-section">
            <div class="container">
                <h2>Advanced Network Diagnostics</h2>
                <p>Comprehensive suite of professional networking tools for developers, IT professionals, and network enthusiasts.</p>
                
                <div class="search-box">
                    <input type="text" id="ipInput" placeholder="Enter IP address or domain (e.g., 8.8.8.8 or google.com)">
                    <button id="searchBtn"><i class="fas fa-search"></i> Lookup</button>
                </div>
                
                <div class="loader" id="loader">
                    <div class="spinner"></div>
                    <p class="loader-text">Fetching network data...</p>
                </div>
                
                <div class="error-message" id="errorMessage"></div>
                
                <div class="results" id="results">
                    <div class="results-grid">
                        <div class="result-item">
                            <div class="result-label"><i class="fas fa-map-marker-alt"></i> IP Address</div>
                            <div class="result-value" id="ipAddress">-</div>
                        </div>
                        <div class="result-item">
                            <div class="result-label"><i class="fas fa-globe-americas"></i> Location</div>
                            <div class="result-value" id="location">-</div>
                        </div>
                        <div class="result-item">
                            <div class="result-label"><i class="fas fa-wifi"></i> ISP</div>
                            <div class="result-value" id="isp">-</div>
                        </div>
                        <div class="result-item">
                            <div class="result-label"><i class="fas fa-building"></i> Organization</div>
                            <div class="result-value" id="org">-</div>
                        </div>
                        <div class="result-item">
                            <div class="result-label"><i class="fas fa-laptop-code"></i> Hostname</div>
                            <div class="result-value" id="hostname">-</div>
                        </div>
                        <div class="result-item">
                            <div class="result-label"><i class="fas fa-user-secret"></i> Proxy/VPN</div>
                            <div class="result-value" id="proxy">-</div>
                        </div>
                        <div class="result-item">
                            <div class="result-label"><i class="fas fa-map"></i> Coordinates</div>
                            <div class="result-value" id="coordinates">-</div>
                        </div>
                        <div class="result-item">
                            <div class="result-label"><i class="fas fa-clock"></i> Timezone</div>
                            <div class="result-value" id="timezone">-</div>
                        </div>
                    </div>
                    
                    <div class="map-container" id="mapContainer"></div>
                </div>
            </div>
        </section>
        
        <!-- WHOIS Lookup Section -->
        <section class="tools-section" id="whois-section">
            <h2 class="tool-title">WHOIS Lookup</h2>
            <p class="tool-description">Get detailed domain registration information including ownership, creation date, and expiration.</p>
            
            <div class="tool-input-container">
                <input type="text" class="tool-input" id="whoisInput" placeholder="Enter domain (e.g., google.com)">
            </div>
            <button class="tool-button" id="whoisBtn"><i class="fas fa-search"></i> Lookup WHOIS</button>
            
            <div class="loader" id="whoisLoader">
                <div class="spinner"></div>
                <p class="loader-text">Querying WHOIS database...</p>
            </div>
            <div class="error-message" id="whoisError"></div>
            <div class="success-message" id="whoisSuccess" style="display: none;"></div>
            <div class="tool-results" id="whoisResults">WHOIS results will appear here...</div>
        </section>
        
        <!-- DNS Lookup Section -->
        <section class="tools-section" id="dns-section">
            <h2 class="tool-title">DNS Lookup</h2>
            <p class="tool-description">Query DNS records for any domain including A, MX, TXT, CNAME, and NS records.</p>
            
            <div class="tool-input-container">
                <input type="text" class="tool-input" id="dnsInput" placeholder="Enter domain (e.g., google.com)">
            </div>
            <select class="tool-input" id="dnsType">
                <option value="A">A (IPv4 Address)</option>
                <option value="AAAA">AAAA (IPv6 Address)</option>
                <option value="MX">MX (Mail Exchange)</option>
                <option value="NS">NS (Name Server)</option>
                <option value="TXT">TXT (Text Record)</option>
                <option value="CNAME">CNAME (Canonical Name)</option>
                <option value="SOA">SOA (Start of Authority)</option>
                <option value="PTR">PTR (Pointer Record)</option>
                <option value="SRV">SRV (Service Record)</option>
            </select>
            <button class="tool-button" id="dnsBtn"><i class="fas fa-search"></i> Lookup DNS</button>
            
            <div class="loader" id="dnsLoader">
                <div class="spinner"></div>
                <p class="loader-text">Querying DNS records...</p>
            </div>
            <div class="error-message" id="dnsError"></div>
            <div class="success-message" id="dnsSuccess" style="display: none;"></div>
            <div class="tool-results" id="dnsResults">DNS records will appear here...</div>
        </section>
        
        <!-- Ping Test Section -->
        <section class="tools-section" id="ping-section">
            <h2 class="tool-title">Ping Test</h2>
            <p class="tool-description">Test the connectivity and response time between your computer and a target server.</p>
            
            <div class="tool-input-container">
                <input type="text" class="tool-input" id="pingInput" placeholder="Enter IP or domain (e.g., 8.8.8.8)">
            </div>
            <button class="tool-button" id="pingBtn"><i class="fas fa-play"></i> Start Ping</button>
            
            <div class="loader" id="pingLoader">
                <div class="spinner"></div>
                <p class="loader-text">Running ping test...</p>
            </div>
            <div class="error-message" id="pingError"></div>
            <div class="success-message" id="pingSuccess" style="display: none;"></div>
            <div class="tool-results" id="pingResults">Ping results will appear here...</div>
        </section>
        
        <!-- Traceroute Section -->
        <section class="tools-section" id="traceroute-section">
            <h2 class="tool-title">Traceroute</h2>
            <p class="tool-description">Trace the path that packets take to reach a network host and identify bottlenecks.</p>
            
            <div class="tool-input-container">
                <input type="text" class="tool-input" id="tracerouteInput" placeholder="Enter IP or domain (e.g., google.com)">
            </div>
            <button class="tool-button" id="tracerouteBtn"><i class="fas fa-play"></i> Run Traceroute</button>
            
            <div class="loader" id="tracerouteLoader">
                <div class="spinner"></div>
                <p class="loader-text">Running traceroute...</p>
            </div>
            <div class="error-message" id="tracerouteError"></div>
            <div class="success-message" id="tracerouteSuccess" style="display: none;"></div>
            <div class="tool-results" id="tracerouteResults">Traceroute results will appear here...</div>
        </section>
        
        <!-- Blacklist Check Section -->
        <section class="tools-section" id="blacklist-section">
            <h2 class="tool-title">Blacklist Check</h2>
            <p class="tool-description">Check if an IP or domain is listed in any of the major email or security blacklists.</p>
            
            <div class="tool-input-container">
                <input type="text" class="tool-input" id="blacklistInput" placeholder="Enter IP or domain (e.g., 8.8.8.8)">
            </div>
            <button class="tool-button" id="blacklistBtn"><i class="fas fa-search"></i> Check Blacklists</button>
            
            <div class="loader" id="blacklistLoader">
                <div class="spinner"></div>
                <p class="loader-text">Checking blacklists...</p>
            </div>
            <div class="error-message" id="blacklistError"></div>
            <div class="success-message" id="blacklistSuccess" style="display: none;"></div>
            <div class="tool-results" id="blacklistResults">Blacklist check results will appear here...</div>
        </section>
        
        <!-- Subnet Calculator Section -->
        <section class="tools-section" id="subnet-section">
            <h2 class="tool-title">Subnet Calculator</h2>
            <p class="tool-description">Calculate subnet ranges, CIDR notation, and network addresses for IPv4 networks.</p>
            
            <div class="tool-input-container">
                <input type="text" class="tool-input" id="subnetInput" placeholder="Enter IP/CIDR (e.g., 192.168.1.0/24)">
            </div>
            <button class="tool-button" id="subnetBtn"><i class="fas fa-calculator"></i> Calculate</button>
            
            <div class="loader" id="subnetLoader">
                <div class="spinner"></div>
                <p class="loader-text">Calculating subnet...</p>
            </div>
            <div class="error-message" id="subnetError"></div>
            <div class="success-message" id="subnetSuccess" style="display: none;"></div>
            <div class="tool-results" id="subnetResults">Subnet information will appear here...</div>
        </section>
        
        <!-- Speed Test Section -->
        <section class="tools-section" id="speedtest-section">
            <h2 class="tool-title">Speed Test</h2>
            <p class="tool-description">Measure your internet connection speed including download, upload, and ping latency.</p>
            
            <button class="tool-button" id="speedtestBtn"><i class="fas fa-tachometer-alt"></i> Start Speed Test</button>
            
            <div class="loader" id="speedtestLoader">
                <div class="spinner"></div>
                <p class="loader-text">Testing connection speed...</p>
            </div>
            <div class="error-message" id="speedtestError"></div>
            <div class="success-message" id="speedtestSuccess" style="display: none;"></div>
            
            <div class="speedtest-results" id="speedtestResults">
                <div class="results-grid" style="grid-template-columns: 1fr 1fr 1fr; margin-top: 20px;">
                    <div class="result-item">
                        <div class="result-label"><i class="fas fa-download"></i> Download</div>
                        <div class="result-value" id="downloadSpeed">-</div>
                    </div>
                    <div class="result-item">
                        <div class="result-label"><i class="fas fa-upload"></i> Upload</div>
                        <div class="result-value" id="uploadSpeed">-</div>
                    </div>
                    <div class="result-item">
                        <div class="result-label"><i class="fas fa-network-wired"></i> Ping</div>
                        <div class="result-value" id="speedtestPing">-</div>
                    </div>
                </div>
                
                <div class="speedtest-progress" style="margin-top: 30px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>Download Progress</span>
                        <span id="downloadProgressText">0%</span>
                    </div>
                    <div style="height: 10px; background-color: #e9ecef; border-radius: 5px; overflow: hidden;">
                        <div id="downloadProgressBar" style="height: 100%; width: 0%; background: linear-gradient(90deg, var(--primary), var(--success)); transition: width 0.3s;"></div>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; margin: 20px 0 10px;">
                        <span>Upload Progress</span>
                        <span id="uploadProgressText">0%</span>
                    </div>
                    <div style="height: 10px; background-color: #e9ecef; border-radius: 5px; overflow: hidden;">
                        <div id="uploadProgressBar" style="height: 100%; width: 0%; background: linear-gradient(90deg, var(--primary), var(--success)); transition: width 0.3s;"></div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Port Scanner Section -->
        <section class="tools-section" id="portscan-section">
            <h2 class="tool-title">Port Scanner</h2>
            <p class="tool-description">Scan for open ports on a target IP address or domain.</p>
            
            <div class="tool-input-container">
                <input type="text" class="tool-input" id="portscanInput" placeholder="Enter IP or domain (e.g., 192.168.1.1)">
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                <div>
                    <label for="portStart" style="display: block; margin-bottom: 5px; font-size: 0.9rem;">Start Port</label>
                    <input type="number" class="tool-input" id="portStart" placeholder="1" min="1" max="65535" value="1">
                </div>
                <div>
                    <label for="portEnd" style="display: block; margin-bottom: 5px; font-size: 0.9rem;">End Port</label>
                    <input type="number" class="tool-input" id="portEnd" placeholder="100" min="1" max="65535" value="100">
                </div>
            </div>
            <button class="tool-button" id="portscanBtn"><i class="fas fa-search"></i> Scan Ports</button>
            
            <div class="loader" id="portscanLoader">
                <div class="spinner"></div>
                <p class="loader-text">Scanning ports...</p>
            </div>
            <div class="error-message" id="portscanError"></div>
            <div class="success-message" id="portscanSuccess" style="display: none;"></div>
            
            <div class="portscan-progress" style="margin: 20px 0;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                    <span>Scan Progress</span>
                    <span id="portscanProgressText">0%</span>
                </div>
                <div style="height: 10px; background-color: #e9ecef; border-radius: 5px; overflow: hidden;">
                    <div id="portscanProgressBar" style="height: 100%; width: 0%; background: linear-gradient(90deg, var(--primary), var(--success)); transition: width 0.3s;"></div>
                </div>
            </div>
            
            <div class="tool-results" id="portscanResults">Port scan results will appear here...</div>
        </section>
        
        <!-- Network Tools Grid -->
        <section class="tools-grid-section" style="padding: 60px 0;">
            <div class="container">
                <h2 style="text-align: center; margin-bottom: 40px; font-size: 2rem; color: var(--dark);">All Network Tools</h2>
                
                <div class="tools-grid">
                    <div class="tool-card" data-section="ip-lookup">
                        <i class="fas fa-search-location"></i>
                        <h3>IP Lookup</h3>
                        <p>Get detailed geolocation and network information for any IP address or domain.</p>
                    </div>
                    
                    <div class="tool-card" data-section="whois">
                        <i class="fas fa-globe"></i>
                        <h3>WHOIS Lookup</h3>
                        <p>Query domain registration details including ownership, creation and expiration dates.</p>
                    </div>
                    
                    <div class="tool-card" data-section="dns">
                        <i class="fas fa-server"></i>
                        <h3>DNS Lookup</h3>
                        <p>Retrieve DNS records including A, MX, TXT, CNAME, NS, and more.</p>
                    </div>
                    
                    <div class="tool-card" data-section="ping">
                        <i class="fas fa-network-wired"></i>
                        <h3>Ping Test</h3>
                        <p>Test connectivity and measure response time to a network host.</p>
                    </div>
                    
                    <div class="tool-card" data-section="traceroute">
                        <i class="fas fa-route"></i>
                        <h3>Traceroute</h3>
                        <p>Trace the path packets take to reach a host and identify network hops.</p>
                    </div>
                    
                    <div class="tool-card" data-section="blacklist">
                        <i class="fas fa-shield-alt"></i>
                        <h3>Blacklist Check</h3>
                        <p>Check if an IP or domain is listed on major email and security blacklists.</p>
                    </div>
                    
                    <div class="tool-card" data-section="subnet">
                        <i class="fas fa-calculator"></i>
                        <h3>Subnet Calc</h3>
                        <p>Calculate subnet ranges, CIDR notation, and network addresses.</p>
                    </div>
                    
                    <div class="tool-card" data-section="speedtest">
                        <i class="fas fa-tachometer-alt"></i>
                        <h3>Speed Test</h3>
                        <p>Measure your internet connection download, upload speeds and ping.</p>
                    </div>
                    
                    <div class="tool-card" data-section="portscan">
                        <i class="fas fa-door-open"></i>
                        <h3>Port Scanner</h3>
                        <p>Scan for open ports on a target IP address or domain.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer>
        <div class="container footer-content">
            <div class="footer-logo">
                <i class="fas fa-network-wired"></i>
                <h2>Network Tools Pro</h2>
            </div>
            
            <p class="footer-description">
                A comprehensive suite of professional networking tools for developers, 
                IT professionals, and network enthusiasts.
            </p>
            
            <div class="footer-links">
                <a href="#">Home</a>
                <a href="#">Features</a>
                <a href="#">API</a>
                <a href="#">Documentation</a>
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">Contact Us</a>
            </div>
            
            <div class="social-icons">
                <a href="#"><i class="fab fa-github"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-linkedin-in"></i></a>
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
            </div>
            
            <p class="copyright">
                © 2023 Network Tools Pro. All rights reserved.<br>
                Powered by IP-API.com and other open-source technologies.
            </p>
        </div>
    </footer>
    
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
    <script>
        // Mobile Menu Toggle
        const hamburger = document.getElementById('hamburger');
        const mobileMenu = document.getElementById('mobileMenu');
        const closeMenu = document.getElementById('closeMenu');
        const overlay = document.getElementById('overlay');
        
        hamburger.addEventListener('click', () => {
            mobileMenu.classList.add('active');
            overlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        });
        
        closeMenu.addEventListener('click', () => {
            mobileMenu.classList.remove('active');
            overlay.classList.remove('active');
            document.body.style.overflow = '';
        });
        
        overlay.addEventListener('click', () => {
            mobileMenu.classList.remove('active');
            overlay.classList.remove('active');
            document.body.style.overflow = '';
        });
        
        // Battery Status API
        function updateBatteryStatus() {
            if ('getBattery' in navigator) {
                navigator.getBattery().then(battery => {
                    const batteryPercent = Math.round(battery.level * 100);
                    const batteryLevel = document.getElementById('batteryLevel');
                    const batteryText = document.getElementById('batteryText');
                    const batteryPercentElement = document.getElementById('batteryPercent');
                    
                    // Update battery level indicator
                    batteryLevel.style.setProperty('--battery-width', `${battery.level * 100}%`);
                    
                    // Change color based on battery level
                    if (battery.level < 0.2) {
                        batteryLevel.style.setProperty('--battery-color', 'var(--danger)');
                    } else if (battery.level < 0.5) {
                        batteryLevel.style.setProperty('--battery-color', 'var(--warning)');
                    } else {
                        batteryLevel.style.setProperty('--battery-color', 'var(--success)');
                    }
                    
                    // Update text
                    batteryText.textContent = battery.charging ? 'Charging: ' : 'Battery: ';
                    batteryPercentElement.textContent = `${batteryPercent}%`;
                    
                    // Listen for changes
                    battery.addEventListener('levelchange', updateBatteryStatus);
                    battery.addEventListener('chargingchange', updateBatteryStatus);
                });
            } else {
                // Hide battery indicator if not supported
                document.getElementById('batteryIndicator').style.display = 'none';
            }
        }
        
        // Initialize battery status
        updateBatteryStatus();
        
        // Section Navigation
        const navLinks = document.querySelectorAll('.nav-link, .mobile-nav-link, .tool-card');
        const sections = document.querySelectorAll('.tools-section, #ip-lookup-section');
        
        function showSection(sectionId) {
            sections.forEach(section => {
                section.style.display = 'none';
                if (section.id === `${sectionId}-section` || 
                    (sectionId === 'ip-lookup' && section.id === 'ip-lookup-section')) {
                    section.style.display = 'block';
                }
            });
            
            // Update active link
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.dataset.section === sectionId) {
                    link.classList.add('active');
                }
            });
            
            // Close mobile menu if open
            mobileMenu.classList.remove('active');
            overlay.classList.remove('active');
            document.body.style.overflow = '';
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const sectionId = link.dataset.section;
                showSection(sectionId);
            });
        });
        
        // Initialize with IP Lookup section
        showSection('ip-lookup');
        
        // IP Lookup Functionality with IP-API.com
        const searchBtn = document.getElementById('searchBtn');
        const ipInput = document.getElementById('ipInput');
        const results = document.getElementById('results');
        const loader = document.getElementById('loader');
        const errorMessage = document.getElementById('errorMessage');
        let map = null;
        let marker = null;
        
        async function lookupIP(ipOrDomain) {
            // Show loader and hide results/error
            loader.classList.add('active');
            results.classList.remove('active');
            errorMessage.textContent = '';
            
            try {
                const response = await fetch(`http://ip-api.com/json/${ipOrDomain || ''}?fields=66842623`);
                const data = await response.json();
                
                if (data.status === 'fail') {
                    throw new Error(data.message);
                }
                
                // Update the UI with the data
                document.getElementById('ipAddress').textContent = data.query;
                document.getElementById('location').textContent = 
                    `${data.city || 'Unknown'}, ${data.regionName || 'Unknown'}, ${data.country || 'Unknown'}`;
                document.getElementById('isp').textContent = data.isp || 'Unknown';
                document.getElementById('org').textContent = data.org || 'Unknown';
                document.getElementById('hostname').textContent = data.reverse || 'Not available';
                document.getElementById('proxy').textContent = data.proxy ? 'Yes (VPN/Proxy detected)' : 'No';
                document.getElementById('coordinates').textContent = 
                    data.lat && data.lon ? `${data.lat}, ${data.lon}` : 'Unknown';
                document.getElementById('timezone').textContent = data.timezone || 'Unknown';
                
                // Initialize or update map if we have coordinates
                if (data.lat && data.lon) {
                    if (!map) {
                        map = L.map('mapContainer').setView([data.lat, data.lon], 13);
                        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                        }).addTo(map);
                    } else {
                        map.setView([data.lat, data.lon], 13);
                    }
                    
                    // Add or update marker
                    if (marker) {
                        marker.setLatLng([data.lat, data.lon]);
                    } else {
                        marker = L.marker([data.lat, data.lon]).addTo(map);
                    }
                    
                    // Update popup content
                    const popupContent = `
                        <b>${data.city || 'Unknown location'}, ${data.country || 'Unknown'}</b><br>
                        ${data.lat}, ${data.lon}<br>
                        <small>${data.isp || 'Unknown ISP'}</small>
                    `;
                    marker.bindPopup(popupContent).openPopup();
                } else {
                    document.getElementById('mapContainer').innerHTML = `
                        <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #6c757d;">
                            <div style="text-align: center;">
                                <i class="fas fa-map-marked-alt" style="font-size: 3rem; margin-bottom: 15px; opacity: 0.5;"></i>
                                <p>No location data available for this IP address</p>
                            </div>
                        </div>
                    `;
                }
                
                // Hide loader and show results
                loader.classList.remove('active');
                results.classList.add('active');
                
                // Scroll to results
                results.scrollIntoView({ behavior: 'smooth', block: 'start' });
            } catch (error) {
                loader.classList.remove('active');
                errorMessage.textContent = `Error: ${error.message}`;
                console.error('IP Lookup Error:', error);
            }
        }
        
        // Event listeners
        searchBtn.addEventListener('click', () => {
            const query = ipInput.value.trim();
            lookupIP(query || '');
        });
        
        ipInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const query = ipInput.value.trim();
                lookupIP(query || '');
            }
        });
        
        // Lookup user's own IP on page load
        window.addEventListener('load', () => {
            lookupIP('');
        });
        
        // Mock functions for other tools (in a real app, these would call actual APIs)
        function mockTool(loaderId, errorId, successId, resultsId, successMessage) {
            const loader = document.getElementById(loaderId);
            const error = document.getElementById(errorId);
            const success = document.getElementById(successId);
            const results = document.getElementById(resultsId);
            
            loader.classList.add('active');
            error.style.display = 'none';
            success.style.display = 'none';
            results.textContent = '';
            
            setTimeout(() => {
                loader.classList.remove('active');
                if (Math.random() > 0.2) { // 80% chance of success
                    success.style.display = 'block';
                    success.textContent = 'Operation completed successfully!';
                    results.textContent = successMessage;
                } else {
                    error.style.display = 'block';
                    error.textContent = 'Error: Failed to fetch data. Please try again.';
                }
            }, 1500);
        }
        
        // WHOIS Lookup
        document.getElementById('whoisBtn').addEventListener('click', () => {
            const domain = document.getElementById('whoisInput').value.trim();
            if (!domain) {
                document.getElementById('whoisError').style.display = 'block';
                document.getElementById('whoisError').textContent = 'Please enter a domain';
                return;
            }
            
            mockTool(
                'whoisLoader',
                'whoisError',
                'whoisSuccess',
                'whoisResults',
                `WHOIS results for ${domain}:\n\n` +
                `Domain Name: ${domain}\n` +
                `Registrar: Example Registrar, Inc.\n` +
                `Registration Date: 1997-09-15\n` +
                `Expiration Date: 2028-09-14\n` +
                `Updated Date: 2023-01-15\n` +
                `Name Servers:\n  ns1.${domain}\n  ns2.${domain}\n  ns3.${domain}\n` +
                `Status: clientTransferProhibited\n` +
                `Registrant:\n  Organization: Example Inc.\n  Country: US\n  Email: registrant@${domain}\n` +
                `Admin Contact:\n  Name: Admin Person\n  Organization: ${domain} Admin\n  Email: admin@${domain}\n` +
                `Technical Contact:\n  Name: Tech Person\n  Organization: ${domain} Tech\n  Email: tech@${domain}`
            );
        });
        
        // DNS Lookup
        document.getElementById('dnsBtn').addEventListener('click', () => {
            const domain = document.getElementById('dnsInput').value.trim();
            const type = document.getElementById('dnsType').value;
            
            if (!domain) {
                document.getElementById('dnsError').style.display = 'block';
                document.getElementById('dnsError').textContent = 'Please enter a domain';
                return;
            }
            
            mockTool(
                'dnsLoader',
                'dnsError',
                'dnsSuccess',
                'dnsResults',
                `DNS ${type} records for ${domain}:\n\n` +
                `${domain}. 3600 IN ${type} ${type === 'A' ? '93.184.216.34' : 
                  type === 'AAAA' ? '2606:2800:220:1:248:1893:25c8:1946' :
                  type === 'MX' ? '10 mail.' + domain :
                  type === 'NS' ? 'ns1.' + domain :
                  type === 'TXT' ? '"v=spf1 include:_spf.' + domain + ' ~all"' :
                  type === 'CNAME' ? 'www.' + domain :
                  type === 'SOA' ? 'ns1.' + domain + ' hostmaster.' + domain + ' 2023090101 3600 1800 604800 86400' :
                  type === 'PTR' ? 'ptr.' + domain :
                  type === 'SRV' ? '0 5 5060 sip.' + domain :
                  'Not applicable'}\n` +
                `${domain}. 3600 IN ${type} ${type === 'A' ? '93.184.216.35' : 
                  type === 'AAAA' ? '2606:2800:220:1:248:1893:25c8:1947' :
                  type === 'MX' ? '20 mail2.' + domain :
                  type === 'NS' ? 'ns2.' + domain :
                  type === 'TXT' ? '"google-site-verification=example123"' :
                  type === 'CNAME' ? 'www2.' + domain :
                  ''}`
            );
        });
        
        // Ping Test
        document.getElementById('pingBtn').addEventListener('click', () => {
            const target = document.getElementById('pingInput').value.trim();
            
            if (!target) {
                document.getElementById('pingError').style.display = 'block';
                document.getElementById('pingError').textContent = 'Please enter an IP or domain';
                return;
            }
            
            mockTool(
                'pingLoader',
                'pingError',
                'pingSuccess',
                'pingResults',
                `PING ${target} (93.184.216.34): 56 data bytes\n` +
                `64 bytes from 93.184.216.34: icmp_seq=0 ttl=53 time=11.123 ms\n` +
                `64 bytes from 93.184.216.34: icmp_seq=1 ttl=53 time=10.456 ms\n` +
                `64 bytes from 93.184.216.34: icmp_seq=2 ttl=53 time=12.789 ms\n` +
                `64 bytes from 93.184.216.34: icmp_seq=3 ttl=53 time=11.987 ms\n\n` +
                `--- ${target} ping statistics ---\n` +
                `4 packets transmitted, 4 packets received, 0.0% packet loss\n` +
                `round-trip min/avg/max/stddev = 10.456/11.589/12.789/0.823 ms`
            );
        });
        
        // Traceroute
        document.getElementById('tracerouteBtn').addEventListener('click', () => {
            const target = document.getElementById('tracerouteInput').value.trim();
            
            if (!target) {
                document.getElementById('tracerouteError').style.display = 'block';
                document.getElementById('tracerouteError').textContent = 'Please enter an IP or domain';
                return;
            }
            
            mockTool(
                'tracerouteLoader',
                'tracerouteError',
                'tracerouteSuccess',
                'tracerouteResults',
                `traceroute to ${target} (93.184.216.34), 64 hops max\n` +
                ` 1  192.168.1.1  1.234 ms  1.123 ms  1.456 ms\n` +
                ` 2  10.0.0.1  5.678 ms  5.789 ms  5.123 ms\n` +
                ` 3  72.14.208.1  10.456 ms  10.789 ms  11.123 ms\n` +
                ` 4  216.239.48.163  15.678 ms  15.789 ms  16.123 ms\n` +
                ` 5  108.170.245.65  20.456 ms  21.789 ms  22.123 ms\n` +
                ` 6  142.250.233.177  25.678 ms  26.789 ms  27.123 ms\n` +
                ` 7  93.184.216.34  30.456 ms  30.789 ms  31.123 ms`
            );
        });
        
        // Blacklist Check
        document.getElementById('blacklistBtn').addEventListener('click', () => {
            const target = document.getElementById('blacklistInput').value.trim();
            
            if (!target) {
                document.getElementById('blacklistError').style.display = 'block';
                document.getElementById('blacklistError').textContent = 'Please enter an IP or domain';
                return;
            }
            
            mockTool(
                'blacklistLoader',
                'blacklistError',
                'blacklistSuccess',
                'blacklistResults',
                `Blacklist check for ${target}:\n\n` +
                `Spamhaus: Not listed\n` +
                `Barracuda: Not listed\n` +
                `SORBS: Not listed\n` +
                `SpamCop: Not listed\n` +
                `URIBL: Not listed\n` +
                `AbuseIPDB: Not listed\n` +
                `DNSBL: Not listed\n` +
                `Barracuda: Not listed\n` +
                `Proofpoint: Not listed\n` +
                `Cisco Talos: Not listed\n\n` +
                `Result: ${target} is not listed on any major blacklists.`
            );
        });
        
        // Subnet Calculator
        document.getElementById('subnetBtn').addEventListener('click', () => {
            const subnet = document.getElementById('subnetInput').value.trim();
            
            if (!subnet) {
                document.getElementById('subnetError').style.display = 'block';
                document.getElementById('subnetError').textContent = 'Please enter an IP/CIDR';
                return;
            }
            
            mockTool(
                'subnetLoader',
                'subnetError',
                'subnetSuccess',
                'subnetResults',
                `Subnet information for ${subnet}:\n\n` +
                `Network Address: 192.168.1.0\n` +
                `Broadcast Address: 192.168.1.255\n` +
                `First Usable IP: 192.168.1.1\n` +
                `Last Usable IP: 192.168.1.254\n` +
                `Total Hosts: 254\n` +
                `Subnet Mask: 255.255.255.0\n` +
                `Wildcard Mask: 0.0.0.255\n` +
                `Binary Subnet Mask: 11111111.11111111.11111111.00000000\n` +
                `IP Class: C\n` +
                `CIDR Notation: /24\n` +
                `Network Range: 192.168.1.0 - 192.168.1.255`
            );
        });
        
        // Speed Test
        document.getElementById('speedtestBtn').addEventListener('click', () => {
            const speedtestLoader = document.getElementById('speedtestLoader');
            const speedtestError = document.getElementById('speedtestError');
            const speedtestSuccess = document.getElementById('speedtestSuccess');
            const speedtestResults = document.getElementById('speedtestResults');
            const downloadProgressBar = document.getElementById('downloadProgressBar');
            const downloadProgressText = document.getElementById('downloadProgressText');
            const uploadProgressBar = document.getElementById('uploadProgressBar');
            const uploadProgressText = document.getElementById('uploadProgressText');
            const downloadSpeed = document.getElementById('downloadSpeed');
            const uploadSpeed = document.getElementById('uploadSpeed');
            const speedtestPing = document.getElementById('speedtestPing');
            
            speedtestLoader.classList.add('active');
            speedtestError.style.display = 'none';
            speedtestSuccess.style.display = 'none';
            
            // Reset progress bars
            downloadProgressBar.style.width = '0%';
            uploadProgressBar.style.width = '0%';
            downloadProgressText.textContent = '0%';
            uploadProgressText.textContent = '0%';
            downloadSpeed.textContent = '-';
            uploadSpeed.textContent = '-';
            speedtestPing.textContent = '-';
            
            // Simulate download test
            let downloadProgress = 0;
            const downloadInterval = setInterval(() => {
                downloadProgress += Math.random() * 5;
                if (downloadProgress >= 100) {
                    downloadProgress = 100;
                    clearInterval(downloadInterval);
                    simulateUploadTest();
                }
                downloadProgressBar.style.width = `${downloadProgress}%`;
                downloadProgressText.textContent = `${Math.round(downloadProgress)}%`;
                
                // Update speed during test
                if (downloadProgress < 100) {
                    const speed = (Math.random() * 50 + 50).toFixed(2);
                    downloadSpeed.textContent = `${speed} Mbps`;
                }
            }, 200);
            
            // Simulate ping result
            setTimeout(() => {
                const ping = (Math.random() * 20 + 5).toFixed(0);
                speedtestPing.textContent = `${ping} ms`;
            }, 500);
            
            function simulateUploadTest() {
                let uploadProgress = 0;
                const uploadInterval = setInterval(() => {
                    uploadProgress += Math.random() * 5;
                    if (uploadProgress >= 100) {
                        uploadProgress = 100;
                        clearInterval(uploadInterval);
                        completeSpeedTest();
                    }
                    uploadProgressBar.style.width = `${uploadProgress}%`;
                    uploadProgressText.textContent = `${Math.round(uploadProgress)}%`;
                    
                    // Update speed during test
                    if (uploadProgress < 100) {
                        const speed = (Math.random() * 20 + 10).toFixed(2);
                        uploadSpeed.textContent = `${speed} Mbps`;
                    }
                }, 300);
            }
            
            function completeSpeedTest() {
                setTimeout(() => {
                    speedtestLoader.classList.remove('active');
                    speedtestSuccess.style.display = 'block';
                    speedtestSuccess.textContent = 'Speed test completed successfully!';
                    
                    // Final realistic speeds
                    const finalDownload = (Math.random() * 30 + 70).toFixed(2);
                    const finalUpload = (Math.random() * 10 + 15).toFixed(2);
                    const finalPing = (Math.random() * 10 + 10).toFixed(0);
                    
                    downloadSpeed.textContent = `${finalDownload} Mbps`;
                    uploadSpeed.textContent = `${finalUpload} Mbps`;
                    speedtestPing.textContent = `${finalPing} ms`;
                }, 500);
            }
        });
        
        // Port Scanner
        document.getElementById('portscanBtn').addEventListener('click', () => {
            const target = document.getElementById('portscanInput').value.trim();
            const portStart = parseInt(document.getElementById('portStart').value) || 1;
            const portEnd = parseInt(document.getElementById('portEnd').value) || 100;
            
            if (!target) {
                document.getElementById('portscanError').style.display = 'block';
                document.getElementById('portscanError').textContent = 'Please enter an IP or domain';
                return;
            }
            
            if (portStart > portEnd) {
                document.getElementById('portscanError').style.display = 'block';
                document.getElementById('portscanError').textContent = 'Start port must be less than end port';
                return;
            }
            
            const portscanLoader = document.getElementById('portscanLoader');
            const portscanError = document.getElementById('portscanError');
            const portscanSuccess = document.getElementById('portscanSuccess');
            const portscanResults = document.getElementById('portscanResults');
            const portscanProgressBar = document.getElementById('portscanProgressBar');
            const portscanProgressText = document.getElementById('portscanProgressText');
            
            portscanLoader.classList.add('active');
            portscanError.style.display = 'none';
            portscanSuccess.style.display = 'none';
            portscanResults.textContent = '';
            portscanProgressBar.style.width = '0%';
            portscanProgressText.textContent = '0%';
            
            // Simulate port scanning
            const totalPorts = portEnd - portStart + 1;
            let scannedPorts = 0;
            let openPorts = [];
            
            // Common ports that might be "open"
            const commonPorts = [21, 22, 23, 25, 53, 80, 110, 143, 443, 465, 587, 993, 995, 3306, 3389];
            
            const scanInterval = setInterval(() => {
                const portsPerUpdate = Math.ceil(totalPorts / 20); // Complete in ~20 steps
                for (let i = 0; i < portsPerUpdate; i++) {
                    const currentPort = portStart + scannedPorts;
                    if (currentPort > portEnd) {
                        clearInterval(scanInterval);
                        completePortScan();
                        return;
                    }
                    
                    // Random chance to be open, higher for common ports
                    const isOpen = commonPorts.includes(currentPort) ? 
                        Math.random() > 0.3 : Math.random() > 0.9;
                    
                    if (isOpen) {
                        openPorts.push(currentPort);
                    }
                    
                    scannedPorts++;
                }
                
                const progress = Math.min(100, (scannedPorts / totalPorts) * 100);
                portscanProgressBar.style.width = `${progress}%`;
                portscanProgressText.textContent = `${Math.round(progress)}%`;
                
                // Update results periodically
                if (openPorts.length > 0 || scannedPorts === totalPorts) {
                    updatePortResults();
                }
            }, 150);
            
            function updatePortResults() {
                let resultText = `Scanning ${target} (ports ${portStart}-${portEnd})\n\n`;
                resultText += `Scanned: ${scannedPorts}/${totalPorts} ports\n`;
                resultText += `Open ports found: ${openPorts.length}\n\n`;
                
                if (openPorts.length > 0) {
                    resultText += `OPEN PORTS:\n`;
                    openPorts.sort((a, b) => a - b).forEach(port => {
                        // Add common service names
                        let service = '';
                        switch(port) {
                            case 21: service = ' (FTP)'; break;
                            case 22: service = ' (SSH)'; break;
                            case 23: service = ' (Telnet)'; break;
                            case 25: service = ' (SMTP)'; break;
                            case 53: service = ' (DNS)'; break;
                            case 80: service = ' (HTTP)'; break;
                            case 110: service = ' (POP3)'; break;
                            case 143: service = ' (IMAP)'; break;
                            case 443: service = ' (HTTPS)'; break;
                            case 465: service = ' (SMTPS)'; break;
                            case 587: service = ' (SMTP Submission)'; break;
                            case 993: service = ' (IMAPS)'; break;
                            case 995: service = ' (POP3S)'; break;
                            case 3306: service = ' (MySQL)'; break;
                            case 3389: service = ' (RDP)'; break;
                        }
                        resultText += `${port}${service}\n`;
                    });
                } else if (scannedPorts === totalPorts) {
                    resultText += `No open ports found in range ${portStart}-${portEnd}`;
                }
                
                portscanResults.textContent = resultText;
            }
            
            function completePortScan() {
                portscanLoader.classList.remove('active');
                portscanSuccess.style.display = 'block';
                portscanSuccess.textContent = `Port scan completed! Found ${openPorts.length} open ports.`;
                updatePortResults();
            }
        });
// IPWHOIS Lookup Function
async function ipWhoisLookup(ipAddress) {
    // Without API key (limited to 10,000 requests/month)
    const url = `https://ipwhois.app/json/${ipAddress}?objects=ip,success,type,continent,country,region,city,latitude,longitude,isp,org,asn,reverse`;
    
    // With API key (recommended for production)
    // const apiKey = 'YOUR_API_KEY'; // Replace with your actual key
    // const url = `https://ipwhois.app/json/${ipAddress}?key=${apiKey}&objects=ip,success,type,continent,country,region,city,latitude,longitude,isp,org,asn,reverse`;
    
    try {
        const response = await fetch(url);
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        return await response.json();
    } catch (error) {
        console.error('Error fetching IPWHOIS data:', error);
        throw error;
    }
}

// Usage Example
document.getElementById('searchBtn').addEventListener('click', async () => {
    const ipInput = document.getElementById('ipInput').value.trim();
    if (!ipInput) {
        alert('Please enter an IP address');
        return;
    }

    try {
        // Show loading state
        document.getElementById('loader').classList.add('active');
        document.getElementById('results').classList.remove('active');
        document.getElementById('errorMessage').textContent = '';
        
        // Fetch IP data
        const ipData = await ipWhoisLookup(ipInput);
        
        if (!ipData.success) {
            throw new Error(ipData.message || 'Failed to fetch IP data');
        }
        
        // Update UI with the data
        updateIPDisplay(ipData);
        
        // Show results
        document.getElementById('results').classList.add('active');
    } catch (error) {
        document.getElementById('errorMessage').textContent = `Error: ${error.message}`;
    } finally {
        document.getElementById('loader').classList.remove('active');
    }
});

function updateIPDisplay(data) {
    document.getElementById('ipAddress').textContent = data.ip;
    document.getElementById('location').textContent = 
        `${data.city || 'Unknown'}, ${data.region || 'Unknown'}, ${data.country || 'Unknown'}`;
    document.getElementById('isp').textContent = data.isp || 'Unknown';
    document.getElementById('org').textContent = data.org || 'Unknown';
    document.getElementById('hostname').textContent = data.reverse || 'Not available';
    document.getElementById('coordinates').textContent = 
        data.latitude && data.longitude ? `${data.latitude}, ${data.longitude}` : 'Unknown';
    document.getElementById('timezone').textContent = data.timezone || 'Unknown';
    
    // Update map if available
    if (data.latitude && data.longitude) {
        updateMap(data.latitude, data.longitude, data.city, data.country, data.isp);
    }
}

function updateMap(lat, lng, city, country, isp) {
    const mapContainer = document.getElementById('mapContainer');
    
    // Initialize map if not already done
    if (!window.ipMap) {
        window.ipMap = L.map(mapContainer).setView([lat, lng], 13);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(window.ipMap);
        
        // Add marker
        window.ipMarker = L.marker([lat, lng]).addTo(window.ipMap)
            .bindPopup(`<b>${city}, ${country}</b><br>${isp}`)
            .openPopup();
    } else {
        // Update existing map
        window.ipMap.setView([lat, lng], 13);
        window.ipMarker.setLatLng([lat, lng])
            .setPopupContent(`<b>${city}, ${country}</b><br>${isp}`);
    }
}
// Visitor Statistics Tracker
function setupVisitorStats() {
    // Initialize localStorage keys if they don't exist
    if (!localStorage.getItem('firstVisitDate')) {
        const now = new Date();
        localStorage.setItem('firstVisitDate', now.toISOString());
        
        // Initialize counters
        localStorage.setItem('totalVisits', '1');
        localStorage.setItem('dailyVisits', JSON.stringify({
            date: now.toDateString(),
            count: 1
        }));
        localStorage.setItem('monthlyVisits', JSON.stringify({
            yearMonth: `${now.getFullYear()}-${now.getMonth()}`,
            count: 1
        }));
        localStorage.setItem('yearlyVisits', JSON.stringify({
            year: now.getFullYear(),
            count: 1
        }));
    } else {
        // Update visit counts
        const now = new Date();
        const today = now.toDateString();
        const currentYearMonth = `${now.getFullYear()}-${now.getMonth()}`;
        const currentYear = now.getFullYear();
        
        // Update total visits
        const totalVisits = parseInt(localStorage.getItem('totalVisits')) + 1;
        localStorage.setItem('totalVisits', totalVisits.toString());
        
        // Update daily visits
        let dailyVisits = JSON.parse(localStorage.getItem('dailyVisits'));
        if (dailyVisits.date === today) {
            dailyVisits.count++;
        } else {
            dailyVisits = { date: today, count: 1 };
        }
        localStorage.setItem('dailyVisits', JSON.stringify(dailyVisits));
        
        // Update monthly visits
        let monthlyVisits = JSON.parse(localStorage.getItem('monthlyVisits'));
        if (monthlyVisits.yearMonth === currentYearMonth) {
            monthlyVisits.count++;
        } else {
            monthlyVisits = { yearMonth: currentYearMonth, count: 1 };
        }
        localStorage.setItem('monthlyVisits', JSON.stringify(monthlyVisits));
        
        // Update yearly visits
        let yearlyVisits = JSON.parse(localStorage.getItem('yearlyVisits'));
        if (yearlyVisits.year === currentYear) {
            yearlyVisits.count++;
        } else {
            yearlyVisits = { year: currentYear, count: 1 };
        }
        localStorage.setItem('yearlyVisits', JSON.stringify(yearlyVisits));
    }
    
    // Display the stats (you can customize where this appears)
    function displayVisitorStats() {
        const statsContainer = document.createElement('div');
        statsContainer.id = 'visitor-stats';
        statsContainer.style.position = 'fixed';
        statsContainer.style.bottom = '20px';
        statsContainer.style.right = '20px';
        statsContainer.style.backgroundColor = 'rgba(0, 0, 0, 0.7)';
        statsContainer.style.color = 'white';
        statsContainer.style.padding = '10px 15px';
        statsContainer.style.borderRadius = '5px';
        statsContainer.style.fontFamily = 'Arial, sans-serif';
        statsContainer.style.fontSize = '14px';
        statsContainer.style.zIndex = '1000';
        
        const dailyVisits = JSON.parse(localStorage.getItem('dailyVisits'));
        const monthlyVisits = JSON.parse(localStorage.getItem('monthlyVisits'));
        const yearlyVisits = JSON.parse(localStorage.getItem('yearlyVisits'));
        const totalVisits = localStorage.getItem('totalVisits');
        
        statsContainer.innerHTML = `
            <div style="margin-bottom: 5px;"><strong>Visitor Statistics</strong></div>
            <div>Today: ${dailyVisits.count}</div>
            <div>This Month: ${monthlyVisits.count}</div>
            <div>This Year: ${yearlyVisits.count}</div>
            <div style="margin-top: 5px; border-top: 1px solid #555; padding-top: 5px;">
                Total: ${totalVisits}
            </div>
        `;
        
        document.body.appendChild(statsContainer);
    }
    
    // Call the display function
    displayVisitorStats();
}

// Call this function to enable visitor tracking
setupVisitorStats();
// Disable WHOIS functionality
function disableWhois() {
    // Remove WHOIS button event listener if it exists
    const whoisBtn = document.getElementById('whoisBtn');
    if (whoisBtn) {
        whoisBtn.replaceWith(whoisBtn.cloneNode(true)); // This removes all event listeners
        
        // Update the button to show it's disabled
        const newWhoisBtn = document.getElementById('whoisBtn');
        newWhoisBtn.disabled = true;
        newWhoisBtn.innerHTML = '<i class="fas fa-ban"></i> WHOIS Temporarily Unavailable';
        newWhoisBtn.style.opacity = '0.7';
        newWhoisBtn.style.cursor = 'not-allowed';
        
        // Add tooltip
        newWhoisBtn.title = 'WHOIS lookup is currently disabled for maintenance';
    }
    
    // Hide WHOIS section if it exists
    const whoisSection = document.getElementById('whois-section');
    if (whoisSection) {
        whoisSection.style.display = 'none';
    }
    
    // Remove WHOIS from navigation if it exists
    const whoisNavLinks = document.querySelectorAll('[data-section="whois"]');
    whoisNavLinks.forEach(link => {
        link.style.display = 'none';
    });
    
    console.log('WHOIS functionality has been disabled');
}

// Call this function to disable WHOIS
disableWhois();
    </script>
</body>
</html>
